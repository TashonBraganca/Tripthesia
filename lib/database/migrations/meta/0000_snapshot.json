{
  "id": "5c958f76-4605-4b7f-a95a-35736db075db",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "draft_trips": {
      "name": "draft_trips",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "current_step": {
          "name": "current_step",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'destination'"
        },
        "completed_steps": {
          "name": "completed_steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "form_data": {
          "name": "form_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "step_data": {
          "name": "step_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "last_saved": {
          "name": "last_saved",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "draft_trips_user_id_idx": {
          "name": "draft_trips_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "draft_trips_last_saved_idx": {
          "name": "draft_trips_last_saved_idx",
          "columns": [
            "last_saved"
          ],
          "isUnique": false
        },
        "draft_trips_current_step_idx": {
          "name": "draft_trips_current_step_idx",
          "columns": [
            "current_step"
          ],
          "isUnique": false
        },
        "draft_trips_created_at_idx": {
          "name": "draft_trips_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "draft_trips_user_id_fk": {
          "name": "draft_trips_user_id_fk",
          "tableFrom": "draft_trips",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "itineraries": {
      "name": "itineraries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "trip_id": {
          "name": "trip_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "locks": {
          "name": "locks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ai_prompt": {
          "name": "ai_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_model": {
          "name": "ai_model",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "generation_time": {
          "name": "generation_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "itineraries_trip_id_idx": {
          "name": "itineraries_trip_id_idx",
          "columns": [
            "trip_id"
          ],
          "isUnique": false
        },
        "itineraries_created_at_idx": {
          "name": "itineraries_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "itineraries_trip_id_fk": {
          "name": "itineraries_trip_id_fk",
          "tableFrom": "itineraries",
          "tableTo": "trips",
          "columnsFrom": [
            "trip_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "personalized_recommendations": {
      "name": "personalized_recommendations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation_type": {
          "name": "recommendation_type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "context_hash": {
          "name": "context_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_scores": {
          "name": "confidence_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "generation_algorithm": {
          "name": "generation_algorithm",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_personalized_rec_idx": {
          "name": "unique_personalized_rec_idx",
          "columns": [
            "user_id",
            "recommendation_type",
            "context_hash"
          ],
          "isUnique": false
        },
        "personalized_recommendations_user_id_idx": {
          "name": "personalized_recommendations_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "personalized_recommendations_type_idx": {
          "name": "personalized_recommendations_type_idx",
          "columns": [
            "recommendation_type"
          ],
          "isUnique": false
        },
        "personalized_recommendations_expires_idx": {
          "name": "personalized_recommendations_expires_idx",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        },
        "personalized_recommendations_created_at_idx": {
          "name": "personalized_recommendations_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "personalized_recommendations_user_id_fk": {
          "name": "personalized_recommendations_user_id_fk",
          "tableFrom": "personalized_recommendations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "places": {
      "name": "places",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'foursquare'"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_level": {
          "name": "price_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hours": {
          "name": "hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "verified": {
          "name": "verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "places_city_country_idx": {
          "name": "places_city_country_idx",
          "columns": [
            "city",
            "country"
          ],
          "isUnique": false
        },
        "places_category_idx": {
          "name": "places_category_idx",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "places_location_idx": {
          "name": "places_location_idx",
          "columns": [
            "latitude",
            "longitude"
          ],
          "isUnique": false
        },
        "places_verified_idx": {
          "name": "places_verified_idx",
          "columns": [
            "verified"
          ],
          "isUnique": false
        },
        "places_source_idx": {
          "name": "places_source_idx",
          "columns": [
            "source"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "price_quotes": {
      "name": "price_quotes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "trip_id": {
          "name": "trip_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "item_type": {
          "name": "item_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "item_ref": {
          "name": "item_ref",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "deep_link": {
          "name": "deep_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "price_quotes_trip_id_idx": {
          "name": "price_quotes_trip_id_idx",
          "columns": [
            "trip_id"
          ],
          "isUnique": false
        },
        "price_quotes_item_type_idx": {
          "name": "price_quotes_item_type_idx",
          "columns": [
            "item_type"
          ],
          "isUnique": false
        },
        "price_quotes_expires_at_idx": {
          "name": "price_quotes_expires_at_idx",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "price_quotes_trip_id_fk": {
          "name": "price_quotes_trip_id_fk",
          "tableFrom": "price_quotes",
          "tableTo": "trips",
          "columnsFrom": [
            "trip_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "profiles": {
      "name": "profiles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "home_airport": {
          "name": "home_airport",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": false
        },
        "budget_band": {
          "name": "budget_band",
          "type": "budget_band",
          "primaryKey": false,
          "notNull": false
        },
        "pace": {
          "name": "pace",
          "type": "pace",
          "primaryKey": false,
          "notNull": false
        },
        "mobility": {
          "name": "mobility",
          "type": "mobility",
          "primaryKey": false,
          "notNull": false
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_tier": {
          "name": "subscription_tier",
          "type": "subscription_tier",
          "primaryKey": false,
          "notNull": false,
          "default": "'free'"
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "subscription_status",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "razorpay_customer_id": {
          "name": "razorpay_customer_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_current_period_end": {
          "name": "subscription_current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trips_used_this_month": {
          "name": "trips_used_this_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_trip_created": {
          "name": "last_trip_created",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "profiles_user_id_idx": {
          "name": "profiles_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "profiles_subscription_tier_idx": {
          "name": "profiles_subscription_tier_idx",
          "columns": [
            "subscription_tier"
          ],
          "isUnique": false
        },
        "profiles_updated_at_idx": {
          "name": "profiles_updated_at_idx",
          "columns": [
            "updated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "profiles_user_id_fk": {
          "name": "profiles_user_id_fk",
          "tableFrom": "profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "recommendation_feedback": {
      "name": "recommendation_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation_id": {
          "name": "recommendation_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation_type": {
          "name": "recommendation_type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "feedback_type",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_value": {
          "name": "feedback_value",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_text": {
          "name": "feedback_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context_data": {
          "name": "context_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_recommendation_feedback_idx": {
          "name": "unique_recommendation_feedback_idx",
          "columns": [
            "user_id",
            "recommendation_id"
          ],
          "isUnique": false
        },
        "recommendation_feedback_user_id_idx": {
          "name": "recommendation_feedback_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "recommendation_feedback_rec_id_idx": {
          "name": "recommendation_feedback_rec_id_idx",
          "columns": [
            "recommendation_id"
          ],
          "isUnique": false
        },
        "recommendation_feedback_type_idx": {
          "name": "recommendation_feedback_type_idx",
          "columns": [
            "feedback_type"
          ],
          "isUnique": false
        },
        "recommendation_feedback_timestamp_idx": {
          "name": "recommendation_feedback_timestamp_idx",
          "columns": [
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "recommendation_feedback_user_id_fk": {
          "name": "recommendation_feedback_user_id_fk",
          "tableFrom": "recommendation_feedback",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "shared_trips": {
      "name": "shared_trips",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(16)",
          "primaryKey": true,
          "notNull": true
        },
        "trip_id": {
          "name": "trip_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_comments": {
          "name": "allow_comments",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[\"view\"]'::jsonb"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "shared_trips_trip_id_idx": {
          "name": "shared_trips_trip_id_idx",
          "columns": [
            "trip_id"
          ],
          "isUnique": false
        },
        "shared_trips_created_by_idx": {
          "name": "shared_trips_created_by_idx",
          "columns": [
            "created_by"
          ],
          "isUnique": false
        },
        "shared_trips_expires_at_idx": {
          "name": "shared_trips_expires_at_idx",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "shared_trips_trip_id_fk": {
          "name": "shared_trips_trip_id_fk",
          "tableFrom": "shared_trips",
          "tableTo": "trips",
          "columnsFrom": [
            "trip_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shared_trips_created_by_fk": {
          "name": "shared_trips_created_by_fk",
          "tableFrom": "shared_trips",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "trips": {
      "name": "trips",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": true
        },
        "destinations": {
          "name": "destinations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "trip_type": {
          "name": "trip_type",
          "type": "trip_type",
          "primaryKey": false,
          "notNull": true
        },
        "budget_total": {
          "name": "budget_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "budget_currency": {
          "name": "budget_currency",
          "type": "budget_currency",
          "primaryKey": false,
          "notNull": true,
          "default": "'INR'"
        },
        "budget_split": {
          "name": "budget_split",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "trip_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "shared_token": {
          "name": "shared_token",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "generation_status": {
          "name": "generation_status",
          "type": "generation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trips_user_id_idx": {
          "name": "trips_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "trips_status_idx": {
          "name": "trips_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "trips_created_at_idx": {
          "name": "trips_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "trips_start_date_idx": {
          "name": "trips_start_date_idx",
          "columns": [
            "start_date"
          ],
          "isUnique": false
        },
        "trips_shared_token_idx": {
          "name": "trips_shared_token_idx",
          "columns": [
            "shared_token"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "trips_user_id_fk": {
          "name": "trips_user_id_fk",
          "tableFrom": "trips",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "usage_events": {
      "name": "usage_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "usage_events_user_id_idx": {
          "name": "usage_events_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "usage_events_event_type_idx": {
          "name": "usage_events_event_type_idx",
          "columns": [
            "event_type"
          ],
          "isUnique": false
        },
        "usage_events_created_at_idx": {
          "name": "usage_events_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "usage_events_user_id_fk": {
          "name": "usage_events_user_id_fk",
          "tableFrom": "usage_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_clusters": {
      "name": "user_clusters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "cluster_id": {
          "name": "cluster_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "cluster_name": {
          "name": "cluster_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "similarity_score": {
          "name": "similarity_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "cluster_characteristics": {
          "name": "cluster_characteristics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_user_cluster_idx": {
          "name": "unique_user_cluster_idx",
          "columns": [
            "user_id",
            "cluster_id"
          ],
          "isUnique": false
        },
        "user_clusters_user_id_idx": {
          "name": "user_clusters_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "user_clusters_cluster_id_idx": {
          "name": "user_clusters_cluster_id_idx",
          "columns": [
            "cluster_id"
          ],
          "isUnique": false
        },
        "user_clusters_similarity_idx": {
          "name": "user_clusters_similarity_idx",
          "columns": [
            "similarity_score"
          ],
          "isUnique": false
        },
        "user_clusters_updated_at_idx": {
          "name": "user_clusters_updated_at_idx",
          "columns": [
            "updated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_clusters_user_id_fk": {
          "name": "user_clusters_user_id_fk",
          "tableFrom": "user_clusters",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_interactions": {
      "name": "user_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "interaction_type",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_value": {
          "name": "interaction_value",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "context_data": {
          "name": "context_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_interactions_user_id_idx": {
          "name": "user_interactions_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "user_interactions_session_idx": {
          "name": "user_interactions_session_idx",
          "columns": [
            "session_id"
          ],
          "isUnique": false
        },
        "user_interactions_type_idx": {
          "name": "user_interactions_type_idx",
          "columns": [
            "interaction_type"
          ],
          "isUnique": false
        },
        "user_interactions_target_type_idx": {
          "name": "user_interactions_target_type_idx",
          "columns": [
            "target_type"
          ],
          "isUnique": false
        },
        "user_interactions_timestamp_idx": {
          "name": "user_interactions_timestamp_idx",
          "columns": [
            "timestamp"
          ],
          "isUnique": false
        },
        "user_interactions_user_time_idx": {
          "name": "user_interactions_user_time_idx",
          "columns": [
            "user_id",
            "timestamp"
          ],
          "isUnique": false
        },
        "user_interactions_type_target_idx": {
          "name": "user_interactions_type_target_idx",
          "columns": [
            "interaction_type",
            "target_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_interactions_user_id_fk": {
          "name": "user_interactions_user_id_fk",
          "tableFrom": "user_interactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_preferences": {
      "name": "user_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "preference_type": {
          "name": "preference_type",
          "type": "preference_type",
          "primaryKey": false,
          "notNull": true
        },
        "preference_value": {
          "name": "preference_value",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "preference_weight": {
          "name": "preference_weight",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.5'"
        },
        "learning_source": {
          "name": "learning_source",
          "type": "learning_source",
          "primaryKey": false,
          "notNull": true
        },
        "context_data": {
          "name": "context_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_user_preference_idx": {
          "name": "unique_user_preference_idx",
          "columns": [
            "user_id",
            "preference_type",
            "preference_value"
          ],
          "isUnique": false
        },
        "user_preferences_user_id_idx": {
          "name": "user_preferences_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "user_preferences_type_idx": {
          "name": "user_preferences_type_idx",
          "columns": [
            "preference_type"
          ],
          "isUnique": false
        },
        "user_preferences_confidence_idx": {
          "name": "user_preferences_confidence_idx",
          "columns": [
            "confidence_score"
          ],
          "isUnique": false
        },
        "user_preferences_updated_at_idx": {
          "name": "user_preferences_updated_at_idx",
          "columns": [
            "updated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_preferences_user_id_fk": {
          "name": "user_preferences_user_id_fk",
          "tableFrom": "user_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "webhooks": {
      "name": "webhooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "processed": {
          "name": "processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "budget_band": {
      "name": "budget_band",
      "values": {
        "low": "low",
        "med": "med",
        "high": "high"
      }
    },
    "budget_currency": {
      "name": "budget_currency",
      "values": {
        "INR": "INR",
        "USD": "USD",
        "EUR": "EUR",
        "GBP": "GBP"
      }
    },
    "feedback_type": {
      "name": "feedback_type",
      "values": {
        "rating": "rating",
        "thumbs": "thumbs",
        "detailed": "detailed",
        "implicit": "implicit",
        "behavioral": "behavioral"
      }
    },
    "generation_status": {
      "name": "generation_status",
      "values": {
        "pending": "pending",
        "generating": "generating",
        "completed": "completed",
        "failed": "failed"
      }
    },
    "interaction_type": {
      "name": "interaction_type",
      "values": {
        "search": "search",
        "view": "view",
        "like": "like",
        "dislike": "dislike",
        "book": "book",
        "share": "share",
        "save": "save",
        "skip": "skip",
        "time_spent": "time_spent",
        "click_through": "click_through",
        "comparison": "comparison",
        "filter_apply": "filter_apply"
      }
    },
    "learning_source": {
      "name": "learning_source",
      "values": {
        "explicit_input": "explicit_input",
        "implicit_behavior": "implicit_behavior",
        "feedback_analysis": "feedback_analysis",
        "collaborative_filtering": "collaborative_filtering",
        "content_analysis": "content_analysis",
        "seasonal_pattern": "seasonal_pattern",
        "booking_history": "booking_history"
      }
    },
    "mobility": {
      "name": "mobility",
      "values": {
        "walk": "walk",
        "public": "public",
        "car": "car"
      }
    },
    "pace": {
      "name": "pace",
      "values": {
        "chill": "chill",
        "standard": "standard",
        "packed": "packed"
      }
    },
    "preference_type": {
      "name": "preference_type",
      "values": {
        "destination_category": "destination_category",
        "activity_type": "activity_type",
        "accommodation_style": "accommodation_style",
        "cuisine_preference": "cuisine_preference",
        "budget_range": "budget_range",
        "trip_pace": "trip_pace",
        "transport_mode": "transport_mode",
        "travel_style": "travel_style",
        "seasonal_preference": "seasonal_preference",
        "group_composition": "group_composition",
        "accessibility_need": "accessibility_need",
        "cultural_interest": "cultural_interest"
      }
    },
    "subscription_status": {
      "name": "subscription_status",
      "values": {
        "active": "active",
        "cancelled": "cancelled",
        "expired": "expired",
        "paused": "paused"
      }
    },
    "subscription_tier": {
      "name": "subscription_tier",
      "values": {
        "free": "free",
        "starter": "starter",
        "pro": "pro"
      }
    },
    "trip_status": {
      "name": "trip_status",
      "values": {
        "draft": "draft",
        "generated": "generated",
        "shared": "shared",
        "archived": "archived"
      }
    },
    "trip_type": {
      "name": "trip_type",
      "values": {
        "leisure": "leisure",
        "business": "business",
        "adventure": "adventure",
        "cultural": "cultural"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}