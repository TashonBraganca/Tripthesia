# Tripthesia - AI-Powered Travel Planning Platform

Generate perfect travel itineraries in seconds with advanced AI planning. Real prices, personalized recommendations, and intelligent budget optimization.

[![Deploy Status](https://img.shields.io/badge/deploy-vercel-black)](https://vercel.com)
[![API Health](https://img.shields.io/badge/api-healthy-green)](./api/health)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

## Features

### ü§ñ AI-Powered Planning
- **AI Trip Generator** - Complete itineraries generated by GPT-4o-mini
- **Personalized Suggestions** - Activity recommendations tailored to your interests
- **Smart Budget Optimizer** - Cost analysis with money-saving strategies
- **Local Insights** - Hidden gems and authentic cultural experiences
- **Seasonal Intelligence** - Weather-based recommendations and cultural events

### üöÄ Advanced Features
- **Interactive Timeline** - Drag-and-drop trip planning with conflict detection
- **Route Optimization** - TSP algorithms minimize travel time and costs
- **Trip Collaboration** - Share trips with role-based permissions
- **Multi-Modal Transport** - Flight, train, bus, and local transport integration
- **Real-Time Pricing** - Live flight prices with booking links

### üåç Global Support
- **International Ready** - Works for Indian and global travelers
- **Multi-Currency** - USD and INR pricing with local payment methods
- **Cultural Awareness** - Local customs, etiquette, and language guides
- **Safety Intelligence** - Location-specific safety tips and emergency info

### üõ†Ô∏è Technical Excellence
- **Interactive Maps** - Mapbox integration with route planning
- **Secure Authentication** - Clerk authentication with social login
- **Flexible Payments** - Razorpay with UPI, cards, and international support
- **Mobile Ready** - Responsive design with offline capabilities
- **Lightning Fast** - Optimized performance with intelligent caching

## Quick Start

### 1. Clone Repository
```bash
git clone https://github.com/TashonBraganca/Tripthesia.git
cd tripthesia/production
```

### 2. Install Dependencies
```bash
npm install
```

### 3. Environment Setup
```bash
cp .env.example .env.local
# Fill in your API keys (see Environment Variables section)
```

### 4. Database Setup
```bash
npm run db:migrate
```

### 5. Start Development
```bash
npm run dev
```

Visit [http://localhost:3000](http://localhost:3000) to see your app!

## Environment Variables

### Required for Basic Functionality
```bash
# Database & Cache
DATABASE_URL=your_neon_postgresql_url
UPSTASH_REDIS_REST_URL=your_upstash_redis_url
UPSTASH_REDIS_REST_TOKEN=your_upstash_token

# Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_clerk_public_key
CLERK_SECRET_KEY=your_clerk_secret_key

# AI
OPENAI_API_KEY=your_openai_api_key
```

### Required for Full Features
```bash
# Payments
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_secret
NEXT_PUBLIC_RAZORPAY_KEY_ID=your_razorpay_key_id

# External APIs
FOURSQUARE_API_KEY=your_foursquare_key
NEXT_PUBLIC_MAPBOX_TOKEN=your_mapbox_token

# Flight Search APIs (For real flight pricing)
AMADEUS_CLIENT_ID=your_amadeus_client_id
AMADEUS_CLIENT_SECRET=your_amadeus_client_secret
RAPIDAPI_KEY=your_rapidapi_key
```

### Flight API Setup (Optional - Enhanced Features)

For real flight pricing and booking links, configure one of these APIs:

#### Option 1: Amadeus API (Recommended)
1. Visit [Amadeus for Developers](https://developers.amadeus.com/)
2. Create free account (1000 transactions/month)
3. Create new application to get Client ID and Secret
4. Add to `.env.local`:
   ```bash
   AMADEUS_CLIENT_ID=your_client_id_here
   AMADEUS_CLIENT_SECRET=your_client_secret_here
   ```

#### Option 2: RapidAPI SkyScanner
1. Visit [RapidAPI SkyScanner](https://rapidapi.com/skyscanner/api/skyscanner80)
2. Subscribe to free tier (100 requests/day)
3. Add to `.env.local`:
   ```bash
   RAPIDAPI_KEY=your_rapidapi_key_here
   ```

**Note**: The app works without these APIs using enhanced mock flight data.
```

## Pricing Tiers

| Tier | Price | Trips/Month | Features |
|------|-------|-------------|----------|
| Free | ‚Çπ0 | 2 | Basic planning, PDF export |
| Starter | ‚Çπ800/$10 | 10 | Advanced planning, real-time pricing, maps |
| Pro | ‚Çπ2000/$20 | 30 | Premium features, collaboration, analytics |

## Architecture

```
‚îå‚îÄ Frontend (Next.js 14)
‚îÇ  ‚îú‚îÄ React 18 + TypeScript
‚îÇ  ‚îú‚îÄ Tailwind CSS + shadcn/ui
‚îÇ  ‚îî‚îÄ Clerk Authentication
‚îÇ
‚îú‚îÄ Backend (API Routes)
‚îÇ  ‚îú‚îÄ Drizzle ORM + PostgreSQL
‚îÇ  ‚îú‚îÄ Upstash Redis Caching
‚îÇ  ‚îî‚îÄ OpenAI GPT-4o-mini
‚îÇ
‚îú‚îÄ External Services
‚îÇ  ‚îú‚îÄ Foursquare (Places)
‚îÇ  ‚îú‚îÄ Mapbox (Maps)
‚îÇ  ‚îî‚îÄ Razorpay (Payments)
‚îÇ
‚îî‚îÄ Infrastructure
   ‚îú‚îÄ Vercel (Hosting)
   ‚îú‚îÄ Neon (Database)
   ‚îî‚îÄ GitHub Actions (CI/CD)
```

## Deployment

### Automatic (Recommended)
1. Push to GitHub main branch
2. GitHub Actions automatically deploys to Vercel
3. Environment variables set in Vercel dashboard

### Manual
```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
vercel --prod
```

## API Endpoints

### Core APIs
- `POST /api/trips` - Create new trip
- `GET /api/trips` - Get user trips  
- `POST /api/trips/[id]/generate` - Generate AI itinerary
- `GET /api/health` - System health check

### AI APIs
- `POST /api/ai/generate-trip` - AI-powered complete trip generation
- `POST /api/ai/suggestions` - Personalized activity suggestions
- `POST /api/ai/budget-optimizer` - Budget analysis and optimization
- `POST /api/ai/local-insights` - Hidden gems and cultural insights

### Subscription APIs
- `POST /api/subscription/checkout` - Create payment session
- `POST /api/webhooks/razorpay` - Payment webhooks

### Search APIs
- `POST /api/places/search` - Search places
- `POST /api/flights/search` - Search flights (real pricing with API fallbacks)
- `POST /api/transport/search` - Multi-modal transport search (flights, trains, buses)

## Development

### Scripts
```bash
npm run dev          # Start development server
npm run build        # Production build
npm run start        # Start production server
npm run lint         # Run ESLint
npm run typecheck    # TypeScript checking
npm run db:generate  # Generate database migrations
npm run db:migrate   # Run database migrations
```

### Testing
```bash
# Health check
curl http://localhost:3000/api/health

# Test trip creation (requires auth)
curl -X POST http://localhost:3000/api/trips \
  -H "Content-Type: application/json" \
  -d '{"title":"Test Trip","destinations":[...]}'
```

## Security

- Authentication - Clerk with secure session management
- Authorization - Route protection and user isolation
- Data Validation - Zod schemas for all inputs
- Rate Limiting - Upstash Redis rate limiting
- CORS - Proper cross-origin configuration
- Headers - Security headers configured

## International Support

### Currencies
- Indian Users: INR pricing with UPI/Cards
- International Users: USD pricing with international cards

### Languages
- English (primary)
- Hindi support planned

### Regions
- Optimized for: India, Southeast Asia, Global
- CDN: Vercel Edge Network

## Performance

- **Bundle Size**: 89% reduction achieved (175 kB ‚Üí 19.1 kB main page)
- **Page Load**: <2s on 3G with optimized loading
- **API Response**: <500ms average with smart caching
- **Mobile**: 95+ Lighthouse score maintained
- **Caching**: Advanced Redis strategies with service workers
- **CDN**: Global edge distribution with Vercel

## Development Status

### ‚úÖ **Phase 7: Production Excellence & Performance Optimization - COMPLETED**
**Achievement Date**: September 5, 2025

#### **üöÄ Key Accomplishments**
- **89% Bundle Size Reduction**: Main page optimized from 175 kB to 19.1 kB
- **SEO Excellence**: Dynamic sitemap, robots.txt, structured data implementation
- **Production Hardening**: Comprehensive error boundaries and monitoring systems
- **Advanced UX Polish**: Smart loading states with contextual messaging
- **Enterprise Monitoring**: Real-time Core Web Vitals and performance tracking

#### **üìä Technical Implementations**
- ‚úÖ Dynamic imports and code splitting
- ‚úÖ ProductionErrorBoundary with auto-recovery
- ‚úÖ PerformanceMonitor with Core Web Vitals tracking
- ‚úÖ SmartLoading components with contextual messages
- ‚úÖ SEO metadata generator with JSON-LD structured data
- ‚úÖ Enhanced service worker with advanced caching

#### **üèóÔ∏è Production Ready Features**
- **Error Handling**: Graceful fallbacks with recovery mechanisms
- **Performance Monitoring**: Real-time alerts and analytics
- **SEO Optimization**: Search engine ready with structured data
- **Loading Experience**: Professional contextual loading states
- **TypeScript**: Full compliance with type safety

### üéØ **Next Phases Planned**
- **Phase 8**: Accessibility Excellence (WCAG 2.1 AA+ compliance)
- **Phase 9**: Final Production Validation (Testing & deployment automation)

### üìà **Current Platform Status**
**üü¢ Production Ready** - Enterprise-grade with comprehensive monitoring and optimization

## Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Support

- Email: support@tripthesia.com
- Chat: Available in app
- Docs: [docs.tripthesia.com](https://docs.tripthesia.com)
- Issues: [GitHub Issues](https://github.com/TashonBraganca/Tripthesia/issues)

---

Built by Tashon Braganca for global travelers.